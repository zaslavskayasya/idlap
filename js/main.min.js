let burgerMenu = document.querySelector('.menu-burger__header');
let header =  document.querySelector('.header');

$(document).ready(function() {
	burgerMenu.addEventListener("click", function(){
		console.log(burgerMenu);

		burgerMenu.classList.contains('open-menu') ?
		burgerMenu.classList.remove('open-menu') :
		burgerMenu.classList.add('open-menu');

		header.classList.contains('open-menu') ?
		header.classList.remove('open-menu') :
		header.classList.add('open-menu');
	});
	$(function() {
		//BEGIN
		$(".js-faq-title").on("click", function(e) {
			console.log("test");
	
			e.preventDefault();
			var $this = $(this);
	
			if (!$this.hasClass("faq__active")) {
				$(".js-faq-content").slideUp(800);
				$(".js-faq-title").removeClass("faq__active");
				$('.js-faq-rotate').removeClass('faq__rotate');
			}
	
			$this.toggleClass("faq__active");
			$this.next().slideToggle();
			$('.js-faq-rotate',this).toggleClass('faq__rotate');
		});
		//END
		
	});
});

(items => {
	let item = document.location.pathname.split('/'),
	  lastItem = item[item.length -1];
  
	items.forEach(el => {
		let active = el.querySelector('.link-active');

		if (active){
		let elItem = active.href.split('/'),
		lastElItem = elItem[elItem.length -1];

		if (lastElItem === lastItem) {
			active.classList.toggle('active');
		}}
	});
  })(document.querySelectorAll('.nav-item'));


  (function() {
	if (!localStorage.getItem('cookieconsent')) {
		var request = new XMLHttpRequest();
		request.onreadystatechange = function() {
			if (this.readyState == 4 && this.status == 200) {
				var data = JSON.parse(request.responseText);
				var eu_country_codes = ['AL','AD','AM','AT','BY','BE','BA','BG','CH','CY','CZ','DE','DK','EE','ES','FO','FI','FR','GB','GE','GI','GR','HU','HR','IE','IS','IT','LT','LU','LV','MC','MK','MT','NO','NL','PO','PT','RO','RU','SE','SI','SK','SM','TR','UA','VA'];
				if (eu_country_codes.indexOf(data.countryCode) != -1) {
					document.body.innerHTML += '\
					  \
					<div class="cookieconsent" style="">\
					 <p> We use cookies and other data as specified in <a class="accent-link" href="./private-policy.html"> Private Policy  </a> to enhance site navigaion and improve our services. </p>  \
					 <a class="btn accetp-cookies-link" href="#" style="color:#fff;"> I accept</a>\
					 </div>\
					';
					document.querySelector('.cookieconsent a.accetp-cookies-link').onclick = function(e) {
						e.preventDefault();
						document.querySelector('.cookieconsent').style.display = 'none';
						localStorage.setItem('cookieconsent', true);
					};
				}
			}
		};
		request.open('GET', 'http://ip-api.com/json', true);
		request.send();
	}
})();

